import{s as I,_ as ol,u as tl,r,h as ul,b as f,i as sl,o as k,c as de,d as l,w as a,E as y,e as b,j as ye,g as s,t as U,F as ce,k as Ce,f as M,m as _e,n as B,p as rl,q as Ue,v as nl,x as dl}from"./main-5d00e0ed.js";function il(i,_,x,V,F){return I({url:"/api/user/list",method:"get",params:{page:i,size:_,username:x,realName:V,status:F}})}function ml(i){return I({url:"/api/user/add",method:"post",data:i})}function pl(i,_){return I({url:`/api/user/update/${i}`,method:"put",data:_})}function vl(i){return I({url:`/api/user/delete/${i}`,method:"delete"})}function fl(i,_){return I({url:"/api/user/assign-roles",method:"post",data:{userId:i,roleIds:_}})}function gl(i){return I({url:`/api/user/roles/${i}`,method:"get"})}function bl(i,_){return I({url:"/api/user/change-password",method:"post",data:{oldPassword:i,newPassword:_}})}function Vl(i){return I({url:"/api/auth/update-current",method:"put",data:i})}function Ie(i,_,x,V,F){return I({url:"/api/role/list",method:"get",params:{page:i,size:_,roleName:x,roleCode:V,status:F}})}function wl(i){return I({url:"/api/role/add",method:"post",data:i})}function yl(i,_){return I({url:`/api/role/update/${i}`,method:"put",data:_})}function cl(i){return I({url:`/api/role/delete/${i}`,method:"delete"})}const Cl={class:"profile"},_l={class:"card-header"},Ul={class:"header-actions"},Il={class:"basic-info"},Nl={class:"role-info"},kl={class:"action-buttons"},xl={class:"user-management"},Rl={class:"action-bar"},zl={class:"role-management"},El={class:"action-bar"},Dl={class:"dialog-footer"},Al={class:"dialog-footer"},Fl={class:"dialog-footer"},Pl={class:"dialog-footer"},Tl={class:"dialog-footer"},Sl={__name:"index",setup(i){const _=tl(),x=r("basic"),V=r({}),F=r([]),q=r(!1),P=r(!1),O=r(!1),G=r(!1),H=r(!1),ie=r([]),me=r(0),R=r(!1),W=r(""),X=r(!1),T=r(!1),Y=r(null),pe=r([]),S=r([]),Z=r(!1),ve=r([]),fe=r(0),z=r(!1),ee=r(""),le=r(!1),p=r({page:1,size:10,username:void 0,realName:void 0,status:void 0}),v=r({page:1,size:10,roleName:void 0,roleCode:void 0,status:void 0}),w=r({username:"",realName:"",email:"",phone:"",department:"",position:""}),N=r({oldPassword:"",newPassword:"",confirmPassword:""}),n=r({id:void 0,username:"",password:"",realName:"",email:"",phone:"",department:"",position:"",status:"ACTIVE"}),c=r({id:void 0,roleName:"",roleCode:"",description:"",status:"ACTIVE"}),ae=r(null),oe=r(null),te=r(null),ue=r(null),Ne={realName:[{required:!0,message:"请输入真实姓名",trigger:"blur"}],email:[{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}],phone:[{pattern:/^1[3-9]\d{9}$/,message:"请输入正确的手机号",trigger:"blur"}]},ke={oldPassword:[{required:!0,message:"请输入原密码",trigger:"blur"}],newPassword:[{required:!0,message:"请输入新密码",trigger:"blur"},{min:6,message:"密码长度不能少于6位",trigger:"blur"}],confirmPassword:[{required:!0,message:"请再次输入新密码",trigger:"blur"},{validator:(t,e,u)=>{e!==N.value.newPassword?u(new Error("两次输入的密码不一致")):u()},trigger:"blur"}]},xe={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能少于6位",trigger:"blur"}],realName:[{required:!0,message:"请输入真实姓名",trigger:"blur"}],email:[{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}],phone:[{pattern:/^1[3-9]\d{9}$/,message:"请输入正确的手机号",trigger:"blur"}]},Re={roleName:[{required:!0,message:"请输入角色名称",trigger:"blur"}],roleCode:[{required:!0,message:"请输入角色编码",trigger:"blur"}]},se=async(t=!1)=>{try{const e=localStorage.getItem("userInfo");if(console.log("getUserInfo - userInfoStr:",e),e){const u=JSON.parse(e);console.log("getUserInfo - user:",u),V.value={id:u.userId,username:u.username,realName:u.realName,email:u.email,phone:u.phone,department:u.department,position:u.position,status:"ACTIVE",createdAt:null},console.log("getUserInfo - userInfo.value:",V.value),console.log("getUserInfo - activeTab:",x.value),F.value=u.roles||[],t&&(w.value={username:u.username,realName:u.realName,email:u.email,phone:u.phone,department:u.department,position:u.position})}}catch(e){console.error(e),y.error("获取用户信息失败")}},ze=()=>{_.push("/dashboard")},Ee=async()=>{if(await ae.value.validate().catch(()=>!1)){O.value=!0;try{await Vl(w.value),y.success("更新成功"),q.value=!1,await se()}catch(e){console.error(e),y.error("更新失败")}finally{O.value=!1}}},De=()=>{var t;(t=ae.value)==null||t.resetFields()},Ae=()=>{P.value=!0},Fe=async()=>{var e,u;if(await oe.value.validate().catch(()=>!1)){G.value=!0;try{await bl(N.value.oldPassword,N.value.newPassword),y.success("密码修改成功，请重新登录"),P.value=!1,localStorage.removeItem("token"),localStorage.removeItem("userInfo"),window.location.href="/login"}catch(C){console.error(C),y.error(((u=(e=C.response)==null?void 0:e.data)==null?void 0:u.message)||"密码修改失败")}finally{G.value=!1}}},Pe=()=>{var t;(t=oe.value)==null||t.resetFields()},E=async()=>{H.value=!0;try{const t=await il(p.value.page,p.value.size,p.value.username,p.value.realName,p.value.status);ie.value=t.data.list,me.value=t.data.total}catch(t){console.error(t)}finally{H.value=!1}},Te=async()=>{try{const t=await Ie(1,1e3);pe.value=t.data.list}catch(t){console.error(t)}},h=()=>{p.value.page=1,E()},Se=()=>{p.value={page:1,size:10,username:void 0,realName:void 0,status:void 0},h()},$e=t=>{p.value.size=t,E()},Le=t=>{p.value.page=t,E()},Be=()=>{W.value="新增用户",X.value=!1,n.value={id:void 0,username:"",password:"",realName:"",email:"",phone:"",department:"",position:"",status:"ACTIVE"},R.value=!0},qe=t=>{W.value="编辑用户",X.value=!0,n.value={...t},R.value=!0},he=async t=>{Y.value=t,T.value=!0;try{const e=await gl(t.id);S.value=e.data.map(u=>u.id)}catch(e){console.error(e),S.value=[]}},Qe=async()=>{try{await fl(Y.value.id,S.value),y.success("角色分配成功"),T.value=!1}catch(t){console.error(t),y.error("角色分配失败")}},Ke=async t=>{try{await Ue.confirm(`确定要删除用户 ${t.realName} 吗？删除后将无法恢复。`,"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),await vl(t.id),y.success("删除成功"),E()}catch(e){e!=="cancel"&&y.error("删除失败")}},je=async()=>{await te.value.validate(t=>{t&&(X.value?pl(n.value.id,n.value).then(()=>{y.success("修改成功"),R.value=!1,E();const e=localStorage.getItem("userInfo");if(console.log("userInfoStr:",e),e){const u=JSON.parse(e),C=u.userId;console.log("currentUserId:",C,"userForm.value.id:",n.value.id),C===n.value.id&&(console.log("更新当前用户信息"),console.log("更新前 - currentUser.email:",u.email),u.email=n.value.email,u.phone=n.value.phone,u.realName=n.value.realName,u.department=n.value.department,u.position=n.value.position,console.log("更新后 - currentUser.email:",u.email),localStorage.setItem("userInfo",JSON.stringify(u)),console.log("localStorage已更新"),se())}}):ml(n.value).then(()=>{y.success("新增成功"),R.value=!1,E()}))})},Je=()=>{var t;(t=te.value)==null||t.resetFields()},D=async()=>{Z.value=!0;try{const t=await Ie(v.value.page,v.value.size,v.value.roleName,v.value.roleCode,v.value.status);ve.value=t.data.list,fe.value=t.data.total}catch(t){console.error(t)}finally{Z.value=!1}},Q=()=>{v.value.page=1,D()},Me=()=>{v.value={page:1,size:10,roleName:void 0,roleCode:void 0,status:void 0},Q()},Oe=t=>{v.value.size=t,D()},Ge=t=>{v.value.page=t,D()},He=()=>{ee.value="新增角色",le.value=!1,c.value={id:void 0,roleName:"",roleCode:"",description:"",status:"ACTIVE"},z.value=!0},We=t=>{ee.value="编辑角色",le.value=!0,c.value={...t},z.value=!0},Xe=async t=>{try{await Ue.confirm(`确定要删除角色 ${t.roleName} 吗？删除后将无法恢复。`,"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),await cl(t.id),y.success("删除成功"),D()}catch(e){e!=="cancel"&&y.error("删除失败")}},Ye=async()=>{await ue.value.validate(t=>{t&&(le.value?yl(c.value.id,c.value).then(()=>{y.success("修改成功"),z.value=!1,D()}):wl(c.value).then(()=>{y.success("新增成功"),z.value=!1,D()}))})},Ze=()=>{var t;(t=ue.value)==null||t.resetFields()};return ul(async()=>{await se(!0),E(),D(),Te()}),(t,e)=>{const u=f("el-button"),C=f("el-descriptions-item"),K=f("el-tag"),el=f("el-descriptions"),re=f("el-tab-pane"),m=f("el-input"),d=f("el-form-item"),$=f("el-option"),ne=f("el-select"),A=f("el-form"),g=f("el-table-column"),ge=f("el-table"),be=f("el-pagination"),ll=f("el-tabs"),al=f("el-card"),L=f("el-dialog"),j=f("el-radio"),Ve=f("el-radio-group"),we=sl("loading");return k(),de("div",Cl,[l(al,null,{header:a(()=>[b("div",_l,[e[44]||(e[44]=b("h3",null,"个人信息",-1)),b("div",Ul,[l(u,{onClick:ze,icon:ye(nl)},{default:a(()=>[...e[43]||(e[43]=[s(" 返回主页 ",-1)])]),_:1},8,["icon"])])])]),default:a(()=>[l(ll,{modelValue:x.value,"onUpdate:modelValue":e[10]||(e[10]=o=>x.value=o)},{default:a(()=>[l(re,{label:"基本信息",name:"basic"},{default:a(()=>[b("div",Il,[l(el,{column:1,border:""},{default:a(()=>[l(C,{label:"用户名"},{default:a(()=>[s(U(V.value.username),1)]),_:1}),l(C,{label:"真实姓名"},{default:a(()=>[s(U(V.value.realName),1)]),_:1}),l(C,{label:"邮箱"},{default:a(()=>[s(U(V.value.email),1)]),_:1}),l(C,{label:"手机号"},{default:a(()=>[s(U(V.value.phone),1)]),_:1}),l(C,{label:"部门"},{default:a(()=>[s(U(V.value.department),1)]),_:1}),l(C,{label:"职位"},{default:a(()=>[s(U(V.value.position),1)]),_:1}),l(C,{label:"状态"},{default:a(()=>[l(K,{type:V.value.status==="ACTIVE"?"success":"danger"},{default:a(()=>[s(U(V.value.status==="ACTIVE"?"激活":"禁用"),1)]),_:1},8,["type"])]),_:1}),l(C,{label:"创建时间"},{default:a(()=>[s(U(V.value.createdAt),1)]),_:1})]),_:1}),b("div",Nl,[e[45]||(e[45]=b("h4",null,"角色信息",-1)),(k(!0),de(ce,null,Ce(F.value,o=>(k(),B(K,{key:o.id,type:"primary",style:{"margin-right":"10px","margin-bottom":"10px"}},{default:a(()=>[s(U(o.roleName),1)]),_:2},1024))),128))]),b("div",kl,[l(u,{type:"warning",onClick:Ae,icon:ye(dl)},{default:a(()=>[...e[46]||(e[46]=[s(" 修改密码 ",-1)])]),_:1},8,["icon"])])])]),_:1}),l(re,{label:"用户管理",name:"user"},{default:a(()=>[b("div",xl,[b("div",Rl,[l(u,{type:"primary",onClick:Be},{default:a(()=>[...e[47]||(e[47]=[s("新增用户",-1)])]),_:1})]),l(A,{model:p.value,inline:""},{default:a(()=>[l(d,{label:"用户名"},{default:a(()=>[l(m,{modelValue:p.value.username,"onUpdate:modelValue":e[0]||(e[0]=o=>p.value.username=o),placeholder:"请输入用户名",clearable:"",onKeyup:M(h,["enter"])},null,8,["modelValue"])]),_:1}),l(d,{label:"真实姓名"},{default:a(()=>[l(m,{modelValue:p.value.realName,"onUpdate:modelValue":e[1]||(e[1]=o=>p.value.realName=o),placeholder:"请输入真实姓名",clearable:"",onKeyup:M(h,["enter"])},null,8,["modelValue"])]),_:1}),l(d,{label:"状态"},{default:a(()=>[l(ne,{modelValue:p.value.status,"onUpdate:modelValue":e[2]||(e[2]=o=>p.value.status=o),placeholder:"请选择状态",clearable:""},{default:a(()=>[l($,{label:"激活",value:"ACTIVE"}),l($,{label:"禁用",value:"DISABLED"})]),_:1},8,["modelValue"])]),_:1}),l(d,null,{default:a(()=>[l(u,{type:"primary",onClick:h},{default:a(()=>[...e[48]||(e[48]=[s("搜索",-1)])]),_:1}),l(u,{onClick:Se},{default:a(()=>[...e[49]||(e[49]=[s("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"]),_e((k(),B(ge,{data:ie.value,style:{width:"100%"}},{default:a(()=>[l(g,{prop:"id",label:"ID",width:"80"}),l(g,{prop:"username",label:"用户名",width:"120"}),l(g,{prop:"realName",label:"真实姓名",width:"120"}),l(g,{prop:"email",label:"邮箱",width:"180"}),l(g,{prop:"phone",label:"手机号",width:"120"}),l(g,{prop:"department",label:"部门",width:"120"}),l(g,{prop:"position",label:"职位",width:"120"}),l(g,{prop:"status",label:"状态",width:"100"},{default:a(o=>[l(K,{type:o.row.status==="ACTIVE"?"success":"danger"},{default:a(()=>[s(U(o.row.status==="ACTIVE"?"激活":"禁用"),1)]),_:2},1032,["type"])]),_:1}),l(g,{prop:"createdAt",label:"创建时间",width:"180"}),l(g,{label:"操作",width:"280",fixed:"right"},{default:a(o=>[l(u,{size:"small",type:"primary",onClick:J=>qe(o.row)},{default:a(()=>[...e[50]||(e[50]=[s(" 编辑 ",-1)])]),_:1},8,["onClick"]),l(u,{size:"small",type:"success",onClick:J=>he(o.row)},{default:a(()=>[...e[51]||(e[51]=[s(" 分配角色 ",-1)])]),_:1},8,["onClick"]),l(u,{size:"small",type:"danger",onClick:J=>Ke(o.row)},{default:a(()=>[...e[52]||(e[52]=[s(" 删除 ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[we,H.value]]),l(be,{"current-page":p.value.page,"onUpdate:currentPage":e[3]||(e[3]=o=>p.value.page=o),"page-size":p.value.size,"onUpdate:pageSize":e[4]||(e[4]=o=>p.value.size=o),"page-sizes":[10,20,50,100],total:me.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:$e,onCurrentChange:Le,style:{"margin-top":"20px","text-align":"right"}},null,8,["current-page","page-size","total"])])]),_:1}),l(re,{label:"角色管理",name:"role"},{default:a(()=>[b("div",zl,[b("div",El,[l(u,{type:"primary",onClick:He},{default:a(()=>[...e[53]||(e[53]=[s("新增角色",-1)])]),_:1})]),l(A,{model:v.value,inline:""},{default:a(()=>[l(d,{label:"角色名称"},{default:a(()=>[l(m,{modelValue:v.value.roleName,"onUpdate:modelValue":e[5]||(e[5]=o=>v.value.roleName=o),placeholder:"请输入角色名称",clearable:"",onKeyup:M(Q,["enter"])},null,8,["modelValue"])]),_:1}),l(d,{label:"角色编码"},{default:a(()=>[l(m,{modelValue:v.value.roleCode,"onUpdate:modelValue":e[6]||(e[6]=o=>v.value.roleCode=o),placeholder:"请输入角色编码",clearable:"",onKeyup:M(Q,["enter"])},null,8,["modelValue"])]),_:1}),l(d,{label:"状态"},{default:a(()=>[l(ne,{modelValue:v.value.status,"onUpdate:modelValue":e[7]||(e[7]=o=>v.value.status=o),placeholder:"请选择状态",clearable:""},{default:a(()=>[l($,{label:"激活",value:"ACTIVE"}),l($,{label:"禁用",value:"DISABLED"})]),_:1},8,["modelValue"])]),_:1}),l(d,null,{default:a(()=>[l(u,{type:"primary",onClick:Q},{default:a(()=>[...e[54]||(e[54]=[s("搜索",-1)])]),_:1}),l(u,{onClick:Me},{default:a(()=>[...e[55]||(e[55]=[s("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"]),_e((k(),B(ge,{data:ve.value,style:{width:"100%"}},{default:a(()=>[l(g,{prop:"id",label:"ID",width:"80"}),l(g,{prop:"roleName",label:"角色名称",width:"150"}),l(g,{prop:"roleCode",label:"角色编码",width:"150"}),l(g,{prop:"description",label:"角色描述"}),l(g,{prop:"status",label:"状态",width:"100"},{default:a(o=>[l(K,{type:o.row.status==="ACTIVE"?"success":"danger"},{default:a(()=>[s(U(o.row.status==="ACTIVE"?"激活":"禁用"),1)]),_:2},1032,["type"])]),_:1}),l(g,{prop:"createdAt",label:"创建时间",width:"180"}),l(g,{label:"操作",width:"200",fixed:"right"},{default:a(o=>[l(u,{size:"small",type:"primary",onClick:J=>We(o.row)},{default:a(()=>[...e[56]||(e[56]=[s(" 编辑 ",-1)])]),_:1},8,["onClick"]),l(u,{size:"small",type:"danger",onClick:J=>Xe(o.row)},{default:a(()=>[...e[57]||(e[57]=[s(" 删除 ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[we,Z.value]]),l(be,{"current-page":v.value.page,"onUpdate:currentPage":e[8]||(e[8]=o=>v.value.page=o),"page-size":v.value.size,"onUpdate:pageSize":e[9]||(e[9]=o=>v.value.size=o),"page-sizes":[10,20,50,100],total:fe.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:Oe,onCurrentChange:Ge,style:{"margin-top":"20px","text-align":"right"}},null,8,["current-page","page-size","total"])])]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(L,{title:"编辑个人信息",modelValue:q.value,"onUpdate:modelValue":e[18]||(e[18]=o=>q.value=o),width:"600px",onClose:De},{footer:a(()=>[b("div",Dl,[l(u,{onClick:e[17]||(e[17]=o=>q.value=!1)},{default:a(()=>[...e[58]||(e[58]=[s("取 消",-1)])]),_:1}),l(u,{type:"primary",onClick:Ee,loading:O.value},{default:a(()=>[...e[59]||(e[59]=[s(" 确 定 ",-1)])]),_:1},8,["loading"])])]),default:a(()=>[l(A,{model:w.value,rules:Ne,ref_key:"editFormRef",ref:ae,"label-width":"100px"},{default:a(()=>[l(d,{label:"用户名"},{default:a(()=>[l(m,{modelValue:w.value.username,"onUpdate:modelValue":e[11]||(e[11]=o=>w.value.username=o),disabled:""},null,8,["modelValue"])]),_:1}),l(d,{label:"真实姓名",prop:"realName"},{default:a(()=>[l(m,{modelValue:w.value.realName,"onUpdate:modelValue":e[12]||(e[12]=o=>w.value.realName=o)},null,8,["modelValue"])]),_:1}),l(d,{label:"邮箱",prop:"email"},{default:a(()=>[l(m,{modelValue:w.value.email,"onUpdate:modelValue":e[13]||(e[13]=o=>w.value.email=o)},null,8,["modelValue"])]),_:1}),l(d,{label:"手机号",prop:"phone"},{default:a(()=>[l(m,{modelValue:w.value.phone,"onUpdate:modelValue":e[14]||(e[14]=o=>w.value.phone=o)},null,8,["modelValue"])]),_:1}),l(d,{label:"部门"},{default:a(()=>[l(m,{modelValue:w.value.department,"onUpdate:modelValue":e[15]||(e[15]=o=>w.value.department=o)},null,8,["modelValue"])]),_:1}),l(d,{label:"职位"},{default:a(()=>[l(m,{modelValue:w.value.position,"onUpdate:modelValue":e[16]||(e[16]=o=>w.value.position=o)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),l(L,{title:"修改密码",modelValue:P.value,"onUpdate:modelValue":e[23]||(e[23]=o=>P.value=o),width:"500px",onClose:Pe},{footer:a(()=>[b("div",Al,[l(u,{onClick:e[22]||(e[22]=o=>P.value=!1)},{default:a(()=>[...e[60]||(e[60]=[s("取 消",-1)])]),_:1}),l(u,{type:"primary",onClick:Fe,loading:G.value},{default:a(()=>[...e[61]||(e[61]=[s(" 确 定 ",-1)])]),_:1},8,["loading"])])]),default:a(()=>[l(A,{model:N.value,rules:ke,ref_key:"passwordFormRef",ref:oe,"label-width":"100px"},{default:a(()=>[l(d,{label:"原密码",prop:"oldPassword"},{default:a(()=>[l(m,{modelValue:N.value.oldPassword,"onUpdate:modelValue":e[19]||(e[19]=o=>N.value.oldPassword=o),type:"password","show-password":""},null,8,["modelValue"])]),_:1}),l(d,{label:"新密码",prop:"newPassword"},{default:a(()=>[l(m,{modelValue:N.value.newPassword,"onUpdate:modelValue":e[20]||(e[20]=o=>N.value.newPassword=o),type:"password","show-password":""},null,8,["modelValue"])]),_:1}),l(d,{label:"确认密码",prop:"confirmPassword"},{default:a(()=>[l(m,{modelValue:N.value.confirmPassword,"onUpdate:modelValue":e[21]||(e[21]=o=>N.value.confirmPassword=o),type:"password","show-password":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),l(L,{title:W.value,modelValue:R.value,"onUpdate:modelValue":e[33]||(e[33]=o=>R.value=o),width:"600px",onClose:Je},{footer:a(()=>[b("div",Fl,[l(u,{onClick:e[32]||(e[32]=o=>R.value=!1)},{default:a(()=>[...e[64]||(e[64]=[s("取 消",-1)])]),_:1}),l(u,{type:"primary",onClick:je},{default:a(()=>[...e[65]||(e[65]=[s("确 定",-1)])]),_:1})])]),default:a(()=>[l(A,{model:n.value,rules:xe,ref_key:"userFormRef",ref:te,"label-width":"100px"},{default:a(()=>[l(d,{label:"用户名",prop:"username"},{default:a(()=>[l(m,{modelValue:n.value.username,"onUpdate:modelValue":e[24]||(e[24]=o=>n.value.username=o),disabled:!!n.value.id},null,8,["modelValue","disabled"])]),_:1}),n.value.id?rl("",!0):(k(),B(d,{key:0,label:"密码",prop:"password"},{default:a(()=>[l(m,{modelValue:n.value.password,"onUpdate:modelValue":e[25]||(e[25]=o=>n.value.password=o),type:"password","show-password":""},null,8,["modelValue"])]),_:1})),l(d,{label:"真实姓名",prop:"realName"},{default:a(()=>[l(m,{modelValue:n.value.realName,"onUpdate:modelValue":e[26]||(e[26]=o=>n.value.realName=o)},null,8,["modelValue"])]),_:1}),l(d,{label:"邮箱",prop:"email"},{default:a(()=>[l(m,{modelValue:n.value.email,"onUpdate:modelValue":e[27]||(e[27]=o=>n.value.email=o)},null,8,["modelValue"])]),_:1}),l(d,{label:"手机号",prop:"phone"},{default:a(()=>[l(m,{modelValue:n.value.phone,"onUpdate:modelValue":e[28]||(e[28]=o=>n.value.phone=o)},null,8,["modelValue"])]),_:1}),l(d,{label:"部门"},{default:a(()=>[l(m,{modelValue:n.value.department,"onUpdate:modelValue":e[29]||(e[29]=o=>n.value.department=o)},null,8,["modelValue"])]),_:1}),l(d,{label:"职位"},{default:a(()=>[l(m,{modelValue:n.value.position,"onUpdate:modelValue":e[30]||(e[30]=o=>n.value.position=o)},null,8,["modelValue"])]),_:1}),l(d,{label:"状态"},{default:a(()=>[l(Ve,{modelValue:n.value.status,"onUpdate:modelValue":e[31]||(e[31]=o=>n.value.status=o)},{default:a(()=>[l(j,{value:"ACTIVE"},{default:a(()=>[...e[62]||(e[62]=[s("激活",-1)])]),_:1}),l(j,{value:"DISABLED"},{default:a(()=>[...e[63]||(e[63]=[s("禁用",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title","modelValue"]),l(L,{title:"分配角色",modelValue:T.value,"onUpdate:modelValue":e[36]||(e[36]=o=>T.value=o),width:"400px"},{footer:a(()=>[b("div",Pl,[l(u,{onClick:e[35]||(e[35]=o=>T.value=!1)},{default:a(()=>[...e[66]||(e[66]=[s("取 消",-1)])]),_:1}),l(u,{type:"primary",onClick:Qe},{default:a(()=>[...e[67]||(e[67]=[s("确 定",-1)])]),_:1})])]),default:a(()=>[l(A,{"label-width":"100px"},{default:a(()=>[l(d,{label:"用户"},{default:a(()=>{var o;return[b("span",null,U((o=Y.value)==null?void 0:o.realName),1)]}),_:1}),l(d,{label:"角色"},{default:a(()=>[l(ne,{modelValue:S.value,"onUpdate:modelValue":e[34]||(e[34]=o=>S.value=o),multiple:"",placeholder:"请选择角色",style:{width:"100%"}},{default:a(()=>[(k(!0),de(ce,null,Ce(pe.value,o=>(k(),B($,{key:o.id,label:o.roleName,value:o.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(L,{title:ee.value,modelValue:z.value,"onUpdate:modelValue":e[42]||(e[42]=o=>z.value=o),width:"500px",onClose:Ze},{footer:a(()=>[b("div",Tl,[l(u,{onClick:e[41]||(e[41]=o=>z.value=!1)},{default:a(()=>[...e[70]||(e[70]=[s("取 消",-1)])]),_:1}),l(u,{type:"primary",onClick:Ye},{default:a(()=>[...e[71]||(e[71]=[s("确 定",-1)])]),_:1})])]),default:a(()=>[l(A,{model:c.value,rules:Re,ref_key:"roleFormRef",ref:ue,"label-width":"100px"},{default:a(()=>[l(d,{label:"角色名称",prop:"roleName"},{default:a(()=>[l(m,{modelValue:c.value.roleName,"onUpdate:modelValue":e[37]||(e[37]=o=>c.value.roleName=o)},null,8,["modelValue"])]),_:1}),l(d,{label:"角色编码",prop:"roleCode"},{default:a(()=>[l(m,{modelValue:c.value.roleCode,"onUpdate:modelValue":e[38]||(e[38]=o=>c.value.roleCode=o)},null,8,["modelValue"])]),_:1}),l(d,{label:"角色描述"},{default:a(()=>[l(m,{modelValue:c.value.description,"onUpdate:modelValue":e[39]||(e[39]=o=>c.value.description=o),type:"textarea",rows:3},null,8,["modelValue"])]),_:1}),l(d,{label:"状态"},{default:a(()=>[l(Ve,{modelValue:c.value.status,"onUpdate:modelValue":e[40]||(e[40]=o=>c.value.status=o)},{default:a(()=>[l(j,{value:"ACTIVE"},{default:a(()=>[...e[68]||(e[68]=[s("激活",-1)])]),_:1}),l(j,{value:"DISABLED"},{default:a(()=>[...e[69]||(e[69]=[s("禁用",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title","modelValue"])])}}},Ll=ol(Sl,[["__scopeId","data-v-b3c9a2bf"]]);export{Ll as default};
